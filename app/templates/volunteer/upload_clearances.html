{% extends 'layouts/base.html' %}
{% import 'macros/form_macros.html' as f %}
{% import 'macros/file_upload.html' as upload %}

{% macro dashboard_option(title, endpoint, description=None, icon=None) %}
<a class="column" href="{{ url_for(endpoint) }}">
    <div class="ui padded segment">
        <h3 class="ui header">
            {% if icon is not none %}
            <i class="{{ icon }}"></i>
            {% endif %}
            <div class="content">
                {{ title }}
                {% if description is not none %}
                <div class="sub header">
                    {{ description }}
                </div>
                {% endif %}
            </div>
        </h3>
    </div>
</a>
{% endmacro %}

{% block content %}
<div class="ui stackable centered grid container">
    <div class="twelve wide column">
        <h2 class="ui header">
            Upload Clearances
        </h2>
        <p>
            Pennsylvania law requires volunteers at People’s Emergency Center (PEC)
            to have up to (3) child clearances, depending on residency. PEC requires
            clearances must be completed before volunteer’s start date at PEC, and
            be no more than 30 days old.
            Questions about the law can be directed to the State of PA by
            calling 1-888-783-7972.
            Trish Downey (tdowney@pec-cares.org or 267-777-5811) must receive the
            results before volunteer can begin.
        </p>

        {% set flashes = {
        'error':   get_flashed_messages(category_filter=['form-error']),
        'success': get_flashed_messages(category_filter=['form-success'])
        } %}

        {{ f.begin_form(form1, flashes) }}

        <!--                Clearance 1-->
        <h2 class="ui header">
            Clearance 1
        </h2>
        <p>
            This is for child abuse history clearance: keepkidssafe.pa.gov.
            Turnaround is faster for email than mail.</br>
            </br>
            <b>Status</b>: {{ volunteer.status1 }}
        </p>
        <b>Uploaded File: {{ volunteer.link1 }} </b>
        <br />
        <br />
        {{ f.render_form_input(form1.form1_file_urls) }}
        {{ upload.file_upload('form1_file_urls') }}
        <br />
        <b>Comment: </b>{{ volunteer.comment1 }}
        <br />
        <br />
        {{ f.render_form_field(form1.submit) }}

        {{ f.end_form(form1) }}


        {{ f.begin_form(form2, flashes) }}

        <!--                Clearance 2-->
        <h2 class="ui header">
            Clearance 2
        </h2>
        <p>
            This is for criminal record check. Go To: https://epatch.state.pa.us/.
            Print your result from the computer. </br>
            </br>
            <b>Status</b>: {{ volunteer.status2 }}
        </p>
        <b>Uploaded File: {{ volunteer.link2 }} </b>
        <br />
        <br />
        {{ f.render_form_input(form2.form2_file_urls) }}
        {{ upload.file_upload('form2_file_urls') }}
        <br />
        <b>Comment: </b>{{ volunteer.comment2 }}
        <br />
        <br />
        {{ f.render_form_field(form2.submit) }}

        {{ f.end_form(form2) }}

    </div>
</div>
{% endblock %}